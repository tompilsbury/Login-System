{"ast":null,"code":"var _jsxFileName = \"/Users/tompilsbury/Documents/JavaScript/reactjs/first solo app/client/src/pages/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  const navigate = useNavigate();\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  useEffect(() => {\n    setErrorMessage(\"\");\n  }, []);\n  const initialValues = {\n    username: \"\",\n    password: \"\",\n    password2: \"\"\n  };\n  const validationSchema = Yup.object({\n    username: Yup.string().min(3).max(15).required(),\n    password: Yup.string().min(4).max(20).required(),\n    password2: Yup.string().oneOf([Yup.ref('password'), null], 'Passwords must match')\n  });\n  const onSubmit = data => {\n    var postData = {\n      username: data.username,\n      password: data.password\n    };\n    axios.post(\"http://localhost:3001/users/register\", postData).then(response => {\n      if (response.data.success === false) {\n        setErrorMessage(\"Username already exists\");\n      } else {\n        navigate('/login');\n      }\n      ;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"registerContainer\",\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      onSubmit: onSubmit,\n      validationSchema: validationSchema,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        className: \"registerForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"username\",\n          component: \"span\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          autocomplete: \"off\",\n          id: \"inputCreatePost\",\n          name: \"username\",\n          placeholder: \"(Ex. John123...)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"password\",\n          component: \"span\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          autocomplete: \"off\",\n          type: \"password\",\n          id: \"inputCreatePost\",\n          name: \"password\",\n          placeholder: \"Your Password...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirm Password: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"password2\",\n          component: \"span\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          autocomplete: \"off\",\n          type: \"password\",\n          id: \"inputCreatePost\",\n          name: \"password2\",\n          placeholder: \"Confirm Password...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \" Register \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"registerError\",\n          children: [\" \", errorMessage, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n_s(Register, \"WQCGBzV3FujedY+iYCFys/K0Z34=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useEffect","axios","Formik","Form","Field","ErrorMessage","Yup","useNavigate","jsxDEV","_jsxDEV","Register","_s","navigate","errorMessage","setErrorMessage","initialValues","username","password","password2","validationSchema","object","string","min","max","required","oneOf","ref","onSubmit","data","postData","post","then","response","success","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","component","autocomplete","id","placeholder","type","_c","$RefreshReg$"],"sources":["/Users/tompilsbury/Documents/JavaScript/reactjs/first solo app/client/src/pages/Register.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useNavigate } from 'react-router-dom';\n\n\nfunction Register() {\n    const navigate = useNavigate();\n    const [errorMessage, setErrorMessage] = useState(\"\");\n\n    useEffect(() => {\n        setErrorMessage(\"\")\n      }, []);\n\n    const initialValues = {\n        username: \"\",\n        password: \"\",\n        password2: \"\",\n    }\n\n    const validationSchema = Yup.object({\n        username: Yup.string().min(3).max(15).required(),\n        password: Yup.string().min(4).max(20).required(),\n        password2: Yup.string().oneOf([Yup.ref('password'), null], 'Passwords must match')\n    });\n\n    const onSubmit = (data) => { \n        var postData = {username: data.username, password: data.password};\n        axios.post(\"http://localhost:3001/users/register\", postData).then((response) => {\n          if (response.data.success === false) {\n            setErrorMessage(\"Username already exists\")\n          }else{\n            navigate('/login')\n          };\n        });\n    };\n\n    return (\n        <div className=\"registerContainer\">       \n            <Formik\n                initialValues={initialValues}\n                onSubmit={onSubmit}\n                validationSchema={validationSchema}\n            >\n                <Form className='registerForm'>\n                <label>Username: </label>\n                <ErrorMessage name=\"username\" component=\"span\" />\n                <Field\n                    autocomplete=\"off\"\n                    id=\"inputCreatePost\"\n                    name=\"username\"\n                    placeholder=\"(Ex. John123...)\"\n                />\n        \n                <label>Password: </label>\n                <ErrorMessage name=\"password\" component=\"span\" />\n                <Field\n                    autocomplete=\"off\"\n                    type=\"password\"\n                    id=\"inputCreatePost\"\n                    name=\"password\"\n                    placeholder=\"Your Password...\"\n                />\n\n                <label>Confirm Password: </label>\n                <ErrorMessage name=\"password2\" component=\"span\" />\n                <Field\n                    autocomplete=\"off\"\n                    type=\"password\"\n                    id=\"inputCreatePost\"\n                    name=\"password2\"\n                    placeholder=\"Confirm Password...\"\n                />\n        \n                <button type=\"submit\"> Register </button>\n                {errorMessage && <div className=\"registerError\"> {errorMessage} </div>}\n                </Form>\n            </Formik>\n            \n        </div>\n    );\n}\n\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}